
<div ng-controller="manageProjectCtrl as ct">
  <div id="alerts"></div>
  <form name="form">
	<fieldset><legend>Manage Project</legend>

	  <!-- name -->
	  <div class="form-group">
		<label for="name">Project Name</label>
		<input name="inp-name" ng-model="project.name" class="form-control" ng-minlength="3" ng-maxlength="80" type="text" required>
	  </div>

	  <!-- chief -->
	  <div class="form-group">
		<label for="chief">Chief</label>
		<select name="sel-chief" class="form-control" ng-model="project.cid" ng-options="c.id as c.name for c in chiefs" required>
		</select>
	  </div>

	  <!-- Leave -->
	  <div class="form-group col-xs-6">
		<label class="control-label col-xs-12"><i class="fa fa-calendar"></i> Leave</label>
		<div class="form-group col-xs-6">
		  <input name="inp-date-start" type="text" class="form-control" ng-model="project.dateStart" ng-change="leaveChanged()" data-max-date="{{project.dateEnd}}" placeholder="Project Start" bs-datepicker>
		</div>
		<div class="form-group col-xs-4">
		  <input name="inp-time-start" type="text" class="form-control" ng-model="project.timeStart" ng-change="leaveChanged()" placeholder="Time leave" bs-timepicker>
		</div>
	  </div>

	  <!-- return -->
	  <div class="form-group col-xs-6">
		<label class="control-label col-xs-12"><i class="fa fa-calendar"></i> Return</label>
		<div class="form-group col-xs-6">
		  <input name="inp-date-end" type="text" class="form-control" ng-model="project.dateEnd" data-min-date="{{project.dateStart}}" placeholder="Project End" bs-datepicker>
		</div>
		<div class="form-group col-xs-4">
		  <input name="inp-time-end" type="text" class="form-control" ng-model="project.timeEnd" placeholder="Time return" bs-timepicker>
		</div>
	  </div>

	  <!-- submit update -->
	  <div class="form-group" ng-show="update">
		<button name="btn-update" class="btn btn-default" ng-click="update()">Update Project</button>
	  </div>

	  <!-- submit create -->
	  <div class="form-group" ng-hide="update">
		<button name="btn-create" class="btn btn-default" ng-click="create()">Create Project</button>
	  </div>

	  <pre class="container-fluid"> {{xform | json}}</pre>

	  <!-- info -->
	  <div class="form-group">
		<label>Notes and Informations</label>
		<textarea name="inp-info" ui-tinymce="mce" ng-model="project.info" ></textarea>
	  </div>
	</fieldset>
	<hr>
	<fieldset ng-show="update" ><legend>Copy Project: <i ng-bind-html="project.name"></i></legend>

	  <!-- copy name -->
	  <div class="form-group">
		<label for="name">Project Name</label>
		<input name="inp-copy" ng-model="project.copyName" class="form-control" ng-minlength="3" ng-maxlength="80" type="text" required>
	  </div>

	  <!-- submit copy -->
	  <div class="form-group" ng-show="update">
		<div class="form-group col-xs-3 row" ng-show="update" >
		  <button name="btn-copy" ng-click="copyProject" class="btn btn-default">Copy Project</button>
		</div>

		<!-- copy options -->
		<div class="checkbox col-xs-6 row">
		  <!-- copy bookings -->
		  <div  class="form-group">
			<label>
			  <input name="ck-copy-bookings" type="checkbox"> Copy Bookings
			</label>
		  </div>
		</div>
	  </div>
	</fieldset>

  </form>
</div>

<!--
"id": 1,
"name": "First try\r\n",
"start": "2016-2-15 09:00:00",
"end": "2016-3-8 09:00:00",
"info": "YYYY-MM-DD HH:MM:SS",
"chief": "Mr. Brown",
"cid": 1,
"dateStart": "2016-04-03T23:00:00.000Z",
"timeStart": "1970-01-01T14:00:00.000Z",
"dateEnd": "2016-04-13T23:00:00.000Z",
"timeEnd": "1970-01-01T14:00:00.000Z"
-->
